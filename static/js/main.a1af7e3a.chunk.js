(this["webpackJsonpplatzi-intro-react-base"]=this["webpackJsonpplatzi-intro-react-base"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a(24)},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),l=a(4),c=a.n(l);a(15),a(16);const r=o.a.createContext();function u(e){let{children:t}=e;const{item:a,saveItem:n,loading:l,error:c}=function(e,t){const[a,n]=o.a.useState(t),[l,c]=o.a.useState(!0),[r,u]=o.a.useState(!1);return o.a.useEffect(()=>{setTimeout(()=>{try{const a=localStorage.getItem(e);let o;a?(o=JSON.parse(a),n(o)):(localStorage.setItem(e,JSON.stringify(t)),o=t),c(!1)}catch(r){c(!1),u(!0)}},2e3)},[e,t]),{item:a,saveItem:t=>{localStorage.setItem(e,JSON.stringify(t)),n(t)},loading:l,error:r}}("TODOS_V1",[]),u=a.filter(e=>!!e.completed).length,s=a.length,[m,d]=o.a.useState(!1),[i,p]=o.a.useState(""),E=a.filter(e=>{const t=e.text.toLowerCase(),a=i.toLowerCase();return t.includes(a)});return o.a.createElement(r.Provider,{value:{loading:l,error:c,completedTodos:u,totalTodos:s,searchValue:i,setSearchValue:p,searchedTodos:E,addTodo:e=>{const t=[...a];t.push({text:e,completed:!1}),n(t)},completeTodo:e=>{const t=[...a],o=t.findIndex(t=>t.text===e);t[o].completed=!t[o].completed,n(t)},deleteTodo:e=>{const t=[...a],o=t.findIndex(t=>t.text===e);t.splice(o,1),n(t)},openModal:m,setOpenModal:d}},t)}function s(){const{completedTodos:e,totalTodos:t}=o.a.useContext(r),a=e===t?"Felicidades! Completaste todos los TODOs \ud83e\udd73":"Completaste ".concat(e," de ").concat(t," TODOs");return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"TODOs Andres"),o.a.createElement("h2",null,a))}a(17);function m(){const{searchValue:e,setSearchValue:t}=o.a.useContext(r);return o.a.createElement("input",{placeholder:"Busca un TODO",className:"TodoSearch",value:e,onChange:e=>{t(e.target.value)}})}a(18);function d(e){let{children:t}=e;return o.a.createElement("ul",null,t)}var i=a(5),p=a(6);a(19);function E(e){return o.a.createElement("li",{className:"TodoItem"},o.a.createElement(i.a,{className:"TodoItem-icon Icon-check ".concat(e.completed&&"Icon-check--complete"),onClick:e.onComplete}),o.a.createElement("p",{className:"TodoItem-p ".concat(e.completed&&"TodoItem-p--complete")},e.text),o.a.createElement(p.a,{className:"TodoItem-icon Icon-delete",onClick:e.onDelete}))}a(20);function f(){return o.a.createElement("div",{className:"loader"})}function T(){return o.a.createElement("p",null,"Error ...")}function h(){return o.a.createElement("p",null,"\xa1Crea tu primer TODO!")}a(21);function g(e){let{setOpenModal:t}=e;return o.a.createElement("button",{className:"CreateTodoButton",onClick:()=>{t(e=>!e)}},"+")}a(22);function C(){const{addTodo:e,setOpenModal:t}=o.a.useContext(r),[a,n]=o.a.useState("");return o.a.createElement("form",{className:"TodoForm",onSubmit:n=>{n.preventDefault(),e(a),t(!1)}},o.a.createElement("label",{className:"TodoForm-label"},"Escribe tu nuevo TODO"),o.a.createElement("textarea",{value:a,onChange:e=>{n(e.target.value)},className:"TodoForm-textarea",placeholder:"Cortar cebolla para el almuerzo"}),o.a.createElement("div",{className:"TodoForm-buttonContainer"},o.a.createElement("button",{type:"button",className:"TodoForm-button TodoForm-button--cancel",onClick:()=>{t(!1)}},"Cancelar"),o.a.createElement("button",{type:"submit",className:"TodoForm-button TodoForm-button--add"},"A\xf1adir")))}var O=a(2),x=a.n(O);a(23);function b(e){let{children:t}=e;return x.a.createPortal(o.a.createElement("div",{className:"modalBackground"},t),document.getElementById("modal"))}function v(){const{loading:e,error:t,searchedTodos:a,completeTodo:n,deleteTodo:l,openModal:c,setOpenModal:u}=o.a.useContext(r);return o.a.createElement(o.a.Fragment,null,o.a.createElement(s,null),o.a.createElement(m,null),o.a.createElement(d,null,e&&o.a.createElement(f,null),t&&o.a.createElement(T,null),!e&&0===a.length&&o.a.createElement(h,null),a.map(e=>o.a.createElement(E,{key:e.text,text:e.text,completed:e.completed,onComplete:()=>n(e.text),onDelete:()=>l(e.text)}))),o.a.createElement(g,{setOpenModal:u}),c&&o.a.createElement(b,null,o.a.createElement(C,null)))}var I=function(){return o.a.createElement(u,null,o.a.createElement(v,null))};c.a.createRoot(document.getElementById("root")).render(o.a.createElement(I,null))}],[[7,1,2]]]);
//# sourceMappingURL=main.a1af7e3a.chunk.js.map